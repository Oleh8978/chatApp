{"ast":null,"code":"import React from\"react\";import style from\"./../cssmain/msg.module.css\";import{reactLocalStorage}from\"reactjs-localstorage\";export default class Msg extends React.Component{constructor(props){super(props);this.state={persone:{},people:this.props.persone,newpeople:[]};}/*\r\n  componentWillMount() {\r\n    localStorage.getItem(\"people\") &&\r\n      this.setState({\r\n        newpeople: JSON.parse(localStorage.getItem(\"people\"))\r\n      });\r\n  }\r\n */ //  componentWillUpdate(nextProps, nexState) {\n//    localStorage.setItem(\"people\", JSON.stringify(\"nexState.newpeople\"));\n// };\ncomponentDidUpdate(prevProps,prevState){}componentDidMount(){this.setState({newpeople:this.props.persone},()=>{localStorage.setItem(\"people\",JSON.stringify(this.props.persone));localStorage.setItem(\"data\",Date.now());});}componentWillReceiveProps(){/*   let data = { ...this.props.persone };\r\n    let time = localStorage.getItem(\"data\");\r\n    if (data !== this.props.persone) {\r\n      if (Date.now() - time > 10) {\r\n        localStorage.setItem(\"people\", JSON.stringify(this.props.persone));\r\n        */this.setState({people:JSON.parse(localStorage.getItem(\"people\"))});/* }\r\n    } */}render(){//  console.log(this.state.people);\nvar state={};for(var i=0;i<this.state.people.length;i++){if(this.state.people[i].opened===true){state=this.state.people[i];}}var Newlist=[];var list=state.msgs.map(p=>{if(p.sender===state.name){Newlist.push(/*#__PURE__*/React.createElement(\"div\",{key:p.key,className:style.MsgSent},/*#__PURE__*/React.createElement(\"div\",{className:style.Box},/*#__PURE__*/React.createElement(\"div\",{className:style.Image},/*#__PURE__*/React.createElement(\"img\",{src:state.image,style:{width:\"10vh\",height:\"10vh\",borderRadius:\"55%\",marginLeft:\"3px\"},alt:\"img\"})),/*#__PURE__*/React.createElement(\"div\",{className:style.Msgs},p.msg)),/*#__PURE__*/React.createElement(\"div\",{className:style.Date},p.sentAt)));}else{Newlist.push(/*#__PURE__*/React.createElement(\"div\",{key:p.key},/*#__PURE__*/React.createElement(\"div\",{className:style.ContMine},/*#__PURE__*/React.createElement(\"div\",{className:style.MsgOp},p.msg)),/*#__PURE__*/React.createElement(\"div\",{className:style.DateRight},/*#__PURE__*/React.createElement(\"h1\",{className:style.Aligner},p.sentAt))));}});return/*#__PURE__*/React.createElement(\"div\",{className:style.MsgFeald},/*#__PURE__*/React.createElement(\"div\",{className:style.List},Newlist),/*#__PURE__*/React.createElement(\"div\",{className:style.Bottomer}));}}","map":{"version":3,"sources":["C:/Users/Oleh/Desktop/appDone/src/right/profilefieald/msg.js"],"names":["React","style","reactLocalStorage","Msg","Component","constructor","props","state","persone","people","newpeople","componentDidUpdate","prevProps","prevState","componentDidMount","setState","localStorage","setItem","JSON","stringify","Date","now","componentWillReceiveProps","parse","getItem","render","i","length","opened","Newlist","list","msgs","map","p","sender","name","push","key","MsgSent","Box","Image","image","width","height","borderRadius","marginLeft","Msgs","msg","sentAt","ContMine","MsgOp","DateRight","Aligner","MsgFeald","List","Bottomer"],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport style from \"./../cssmain/msg.module.css\";\r\nimport { reactLocalStorage } from \"reactjs-localstorage\";\r\n\r\nexport default class Msg extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      persone: {},\r\n      people: this.props.persone,\r\n      newpeople: []\r\n    };\r\n  }\r\n  /*\r\n  componentWillMount() {\r\n    localStorage.getItem(\"people\") &&\r\n      this.setState({\r\n        newpeople: JSON.parse(localStorage.getItem(\"people\"))\r\n      });\r\n  }\r\n */\r\n  //  componentWillUpdate(nextProps, nexState) {\r\n  //    localStorage.setItem(\"people\", JSON.stringify(\"nexState.newpeople\"));\r\n  // };\r\n  componentDidUpdate(prevProps, prevState) {}\r\n\r\n  componentDidMount() {\r\n    this.setState(\r\n      {\r\n        newpeople: this.props.persone\r\n      },\r\n      () => {\r\n        localStorage.setItem(\"people\", JSON.stringify(this.props.persone));\r\n        localStorage.setItem(\"data\", Date.now());\r\n      }\r\n    );\r\n  }\r\n  componentWillReceiveProps() {\r\n    /*   let data = { ...this.props.persone };\r\n    let time = localStorage.getItem(\"data\");\r\n    if (data !== this.props.persone) {\r\n      if (Date.now() - time > 10) {\r\n        localStorage.setItem(\"people\", JSON.stringify(this.props.persone));\r\n        */\r\n    this.setState({\r\n      people: JSON.parse(localStorage.getItem(\"people\"))\r\n    });\r\n    /* }\r\n    } */\r\n  }\r\n\r\n  render() {\r\n    //  console.log(this.state.people);\r\n\r\n    let state = {};\r\n    for (let i = 0; i < this.state.people.length; i++) {\r\n      if (this.state.people[i].opened === true) {\r\n        state = this.state.people[i];\r\n      }\r\n    }\r\n    let Newlist = [];\r\n    const list = state.msgs.map((p) => {\r\n      if (p.sender === state.name) {\r\n        Newlist.push(\r\n          <div key={p.key} className={style.MsgSent}>\r\n            <div className={style.Box}>\r\n              <div className={style.Image}>\r\n                <img\r\n                  src={state.image}\r\n                  style={{\r\n                    width: \"10vh\",\r\n                    height: \"10vh\",\r\n                    borderRadius: \"55%\",\r\n                    marginLeft: \"3px\"\r\n                  }}\r\n                  alt=\"img\"\r\n                />\r\n              </div>\r\n              <div className={style.Msgs}>{p.msg}</div>\r\n            </div>\r\n            <div className={style.Date}>{p.sentAt}</div>\r\n          </div>\r\n        );\r\n      } else {\r\n        Newlist.push(\r\n          <div key={p.key}>\r\n            <div className={style.ContMine}>\r\n              <div className={style.MsgOp}>{p.msg}</div>\r\n            </div>\r\n            <div className={style.DateRight}>\r\n              <h1 className={style.Aligner}>{p.sentAt}</h1>\r\n            </div>\r\n          </div>\r\n        );\r\n      }\r\n    });\r\n\r\n    return (\r\n      <div className={style.MsgFeald}>\r\n        <div className={style.List}>{Newlist}</div>\r\n        <div className={style.Bottomer}></div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}