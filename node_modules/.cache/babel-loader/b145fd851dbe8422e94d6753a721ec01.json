{"ast":null,"code":"import _objectSpread from\"C:\\\\Users\\\\Oleh\\\\Desktop\\\\appDone\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";import _regeneratorRuntime from\"C:\\\\Users\\\\Oleh\\\\Desktop\\\\appDone\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import _asyncToGenerator from\"C:\\\\Users\\\\Oleh\\\\Desktop\\\\appDone\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";import React from\"react\";import useSound from\"use-sound\";import style from\"./../cssmain/sendfieald.module.css\";import img from\"./user/sent.jpg\";import uri from\"./../../store/url/url\";import msg from\"./../../store/sounds/msg.mp3\";export default class Sender extends React.Component{constructor(props){super(props);super(props);this.state={value:\"\",people:this.props.people,timer:0,msg:\"\"};this.handleChange=this.handleChange.bind(this);this.changeState=this.changeState.bind(this);this.fetchAndPost=this.fetchAndPost.bind(this);}componentWillUpdate(){var _this=this;return _asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var response,data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return fetch(uri);case 2:response=_context.sent;_context.next=5;return response.json();case 5:data=_context.sent;_this.setState({msg:data.value});case 7:case\"end\":return _context.stop();}}},_callee);}))();}handleChange(event){this.setState({value:event.target.value});}changeState(){this.setState({value:\"\"});}fetchAndPost(){setTimeout(()=>{//  const [play] = useSound(msg);\nthis.props.ChackSender(this.state.msg);},10000);}render(){// console.log(this.state.msg);\n//this.props.ChackSender(this.props.msg);\nvar newPeople=[];for(var i=0;i<this.props.people.length;i++){newPeople.push(_objectSpread({},this.props.people[i]));}var sorted=newPeople.sort(function(a,b){return a.lastUpdt-b.lastUpdt;});return/*#__PURE__*/React.createElement(\"div\",{className:style.Sender},/*#__PURE__*/React.createElement(\"div\",{className:style.Container},/*#__PURE__*/React.createElement(\"input\",{className:style.Inputter,type:\"text\",value:this.state.value,onChange:this.handleChange}),/*#__PURE__*/React.createElement(\"button\",{className:style.Sent,onClick:msg=>{this.props.masgAdder(this.state.value);this.changeState();this.fetchAndPost();}},/*#__PURE__*/React.createElement(\"img\",{src:img,style:{width:\"25px\",height:\"25px\",borderRadius:\"55%\"},alt:\"img\"}),\" \")));}}","map":{"version":3,"sources":["C:/Users/Oleh/Desktop/appDone/src/right/profilefieald/sendFieald.js"],"names":["React","useSound","style","img","uri","msg","Sender","Component","constructor","props","state","value","people","timer","handleChange","bind","changeState","fetchAndPost","componentWillUpdate","fetch","response","json","data","setState","event","target","setTimeout","ChackSender","render","newPeople","i","length","push","sorted","sort","a","b","lastUpdt","Container","Inputter","Sent","masgAdder","width","height","borderRadius"],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport useSound from \"use-sound\";\r\nimport style from \"./../cssmain/sendfieald.module.css\";\r\nimport img from \"./user/sent.jpg\";\r\nimport uri from \"./../../store/url/url\";\r\nimport msg from \"./../../store/sounds/msg.mp3\";\r\n\r\nexport default class Sender extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    super(props);\r\n    this.state = {\r\n      value: \"\",\r\n      people: this.props.people,\r\n      timer: 0,\r\n      msg: \"\"\r\n    };\r\n\r\n    this.handleChange = this.handleChange.bind(this);\r\n    this.changeState = this.changeState.bind(this);\r\n    this.fetchAndPost = this.fetchAndPost.bind(this);\r\n  }\r\n  async componentWillUpdate() {\r\n    const response = await fetch(uri);\r\n    const data = await response.json();\r\n    this.setState({\r\n      msg: data.value\r\n    });\r\n  }\r\n\r\n  handleChange(event) {\r\n    this.setState({ value: event.target.value });\r\n  }\r\n  changeState() {\r\n    this.setState({\r\n      value: \"\"\r\n    });\r\n  }\r\n\r\n  fetchAndPost() {\r\n    setTimeout(() => {\r\n      //  const [play] = useSound(msg);\r\n      this.props.ChackSender(this.state.msg);\r\n    }, 10000);\r\n  }\r\n\r\n  render() {\r\n    // console.log(this.state.msg);\r\n    //this.props.ChackSender(this.props.msg);\r\n    let newPeople = [];\r\n    for (let i = 0; i < this.props.people.length; i++) {\r\n      newPeople.push({ ...this.props.people[i] });\r\n    }\r\n    let sorted = newPeople.sort(function (a, b) {\r\n      return a.lastUpdt - b.lastUpdt;\r\n    });\r\n    return (\r\n      <div className={style.Sender}>\r\n        <div className={style.Container}>\r\n          <input\r\n            className={style.Inputter}\r\n            type=\"text\"\r\n            value={this.state.value}\r\n            onChange={this.handleChange}\r\n          />\r\n          <button\r\n            className={style.Sent}\r\n            onClick={(msg) => {\r\n              this.props.masgAdder(this.state.value);\r\n              this.changeState();\r\n              this.fetchAndPost();\r\n            }}\r\n          >\r\n            <img\r\n              src={img}\r\n              style={{\r\n                width: \"25px\",\r\n                height: \"25px\",\r\n                borderRadius: \"55%\"\r\n              }}\r\n              alt=\"img\"\r\n            />{\" \"}\r\n          </button>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}